(()=>{var e={};e.id=461,e.ids=[461],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},91895:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>u,tree:()=>d}),a(99435),a(85476),a(22662),a(35866);var t=a(23191),r=a(88716),l=a(37922),n=a.n(l),i=a(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(s,c);let d=["",{children:["user",{children:["send",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,99435)),"D:\\Users\\enyoc\\Documents\\Dev\\easner\\app\\user\\send\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85476)),"D:\\Users\\enyoc\\Documents\\Dev\\easner\\app\\user\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,22662)),"D:\\Users\\enyoc\\Documents\\Dev\\easner\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],m=["D:\\Users\\enyoc\\Documents\\Dev\\easner\\app\\user\\send\\page.tsx"],o="/user/send/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/user/send/page",pathname:"/user/send",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},12202:(e,s,a)=>{Promise.resolve().then(a.bind(a,87746))},87746:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>F});var t=a(10326),r=a(17577),l=a(35545),n=a(33071),i=a(90772),c=a(54432),d=a(45842),m=a(53993),o=a(941),x=a(88307),u=a(32933),h=a(83855),p=a(39183),j=a(86333),g=a(48998),N=a(59734);let y=(0,a(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var f=a(92447),b=a(41291),v=a(94019),w=a(63685),k=a(38760),_=a(35047),C=a(62288),Z=a(51813),S=a(40934);function F(){let e=(0,_.useRouter)(),{userProfile:s}=(0,Z.a)(),{currencies:a,exchangeRates:F,recipients:M,refreshRecipients:P}=(0,S.v)(),[R,q]=(0,r.useState)(1),[z,D]=(0,r.useState)("100"),[$,I]=(0,r.useState)(""),[A,E]=(0,r.useState)(""),[T,L]=(0,r.useState)("0"),[U,O]=(0,r.useState)(0),[B,G]=(0,r.useState)([]),[H,W]=(0,r.useState)(!0),[J,V]=(0,r.useState)(null),[Y,Q]=(0,r.useState)({fullName:"",accountNumber:"",bankName:"",phoneNumber:""}),[X,K]=(0,r.useState)(3600),[ee,es]=(0,r.useState)(""),[ea,et]=(0,r.useState)(""),[er,el]=(0,r.useState)(""),[en,ei]=(0,r.useState)({fullName:"",accountNumber:"",bankName:""}),[ec,ed]=(0,r.useState)({}),[em,eo]=(0,r.useState)(null),[ex,eu]=(0,r.useState)(0),[eh,ep]=(0,r.useState)(!1),[ej,eg]=(0,r.useState)(!1),[eN,ey]=(0,r.useState)(null),ef=(0,r.useRef)(null),[eb,ev]=(0,r.useState)("free"),[ew,ek]=(0,r.useState)(!1),[e_,eC]=(0,r.useState)(!1),[eZ,eS]=(0,r.useState)(""),[eF,eM]=(0,r.useState)(""),[eP,eR]=(0,r.useState)(!1),[eq,ez]=(0,r.useState)(!1),eD=(0,r.useRef)(null),e$=(0,r.useRef)(null),[eI,eA]=(0,r.useState)("send"),eE=e=>e?a.filter(s=>s.code.toLowerCase().includes(e.toLowerCase())||s.name.toLowerCase().includes(e.toLowerCase())):a,eT=M.filter(e=>(e.full_name.toLowerCase().includes(ea.toLowerCase())||e.account_number.includes(ea))&&e.currency===A),eL=e=>{el(e.id),Q({fullName:e.full_name,accountNumber:e.account_number,bankName:e.bank_name,phoneNumber:e.phone_number||""})},eU=async()=>{if(s?.id)try{let e=await k.tE.create(s.id,{fullName:en.fullName,accountNumber:en.accountNumber,bankName:en.bankName,currency:A});await P(),eL(e),ei({fullName:"",accountNumber:"",bankName:""}),eC(!1)}catch(e){console.error("Error adding recipient:",e),V("Failed to add recipient. Please try again.")}},eO=async(e,s)=>{try{await navigator.clipboard.writeText(e),ed(e=>({...e,[s]:!0})),setTimeout(()=>{ed(e=>({...e,[s]:!1}))},2e3)}catch(e){console.error("Failed to copy text: ",e)}},eB=async e=>{if(ey(null),e.size>5242880){ey("File size must be less than 5MB");return}if(!["image/jpeg","image/png","application/pdf"].includes(e.type)){ey("Only JPG, PNG, and PDF files are allowed");return}eo(e),ep(!0),eu(0);let s=setInterval(()=>{eu(e=>e>=100?(clearInterval(s),ep(!1),100):e+10)},100)},eG=()=>{eo(null),eu(0),ey(null),ef.current&&(ef.current.value="")},eH=(e,s)=>F.find(a=>a.from_currency===e&&a.to_currency===s),eW=(e,s)=>{let t=a.find(e=>e.code===s);return`${t?.symbol||""}${e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},eJ=({currency:e})=>e.flag?e.flag.startsWith("<svg")?t.jsx("div",{dangerouslySetInnerHTML:{__html:e.flag}}):e.flag.startsWith("http")||e.flag.startsWith("/")?t.jsx("img",{src:e.flag||"/placeholder.svg",alt:`${e.name} flag`,width:20,height:20}):t.jsx("span",{className:"text-xs",children:e.code}):null,eV=({selectedCurrency:e,onCurrencyChange:s,searchTerm:r,onSearchChange:l,isOpen:n,onToggle:d,dropdownRef:m})=>{let u=eE(r),h=a.find(s=>s.code===e);return(0,t.jsxs)("div",{className:"relative",ref:m,children:[t.jsx(i.z,{variant:"outline",className:"bg-white border-gray-200 rounded-full px-3 py-1.5 h-auto hover:bg-gray-50 flex-shrink-0",onClick:d,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[h&&t.jsx(eJ,{currency:h}),t.jsx("span",{className:"font-medium text-sm",children:e}),t.jsx(o.Z,{className:"h-3 w-3 text-gray-500"})]})}),n&&(0,t.jsxs)("div",{className:`absolute right-0 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50 ${m===e$?"bottom-full mb-1":"top-full mt-1"}`,children:[t.jsx("div",{className:"p-3 border-b",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(c.I,{placeholder:"Search currencies...",value:r,onChange:e=>l(e.target.value),className:"pl-10 h-9",autoFocus:!0})]})}),t.jsx("div",{className:"max-h-[180px] overflow-y-auto",children:u.length>0?u.map(e=>(0,t.jsxs)("div",{onClick:()=>{s(e.code),l(""),d()},className:"flex items-center gap-3 px-3 py-3 cursor-pointer hover:bg-gray-50 min-h-[60px]",children:[t.jsx(eJ,{currency:e}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm",children:e.code}),t.jsx("div",{className:"text-xs text-muted-foreground truncate",children:e.name})]})]},e.code)):t.jsx("div",{className:"px-3 py-4 text-center text-sm text-gray-500",children:"No currencies found"})})]})]})},eY=e=>B.filter(s=>s.currency===e&&"active"===s.status),eQ=e=>{let s=eY(e);return s.find(e=>e.is_default)||s[0]},eX=async()=>{if(R<3)q(R+1);else if(3===R){if(!s?.id||!er)return;try{ek(!0);let a=eH($,A);if(!a)throw Error("Exchange rate not available");let t=await k.Ov.create({userId:s.id,recipientId:er,sendAmount:Number.parseFloat(z),sendCurrency:$,receiveAmount:Number.parseFloat(T),receiveCurrency:A,exchangeRate:a.rate,feeAmount:U,feeType:eb,totalAmount:Number.parseFloat(z)+U});if(em&&100===ex&&!eh)try{await k.Ov.uploadReceipt(t.transaction_id,em)}catch(e){console.error("Error uploading receipt:",e),ey("Receipt upload failed, but transaction was created successfully")}e.push(`/user/send/${t.transaction_id.toLowerCase()}`)}catch(e){console.error("Error creating transaction:",e),V("Failed to create transaction. Please try again.")}finally{ek(!1)}}},eK=()=>{R>1&&q(R-1)},e0=eH($,A),e1=e0?.rate||0,e2=a.find(e=>e.code===$),e6=a.find(e=>e.code===A),e3=[{number:1,title:"Amount to Send",completed:R>1},{number:2,title:"Add Recipient",completed:R>2},{number:3,title:"Make Payment",completed:R>3},{number:4,title:"Transaction Status",completed:!1}];return H?t.jsx(l.J,{children:t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),t.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})})}):J?t.jsx(l.J,{children:t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-700",children:J}),t.jsx(i.z,{onClick:()=>window.location.reload(),className:"mt-2",children:"Retry"})]})})})}):0===a.length?t.jsx(l.J,{children:t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:t.jsx("p",{className:"text-yellow-700",children:"No currencies available. Please contact support."})})})})}):t.jsx(l.J,{children:t.jsx("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:e3.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e.completed?"bg-green-500 text-white":R===e.number?"bg-easner-primary text-white":"bg-gray-200 text-gray-600"}`,children:e.completed?t.jsx(u.Z,{className:"h-4 w-4"}):e.number}),t.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900 hidden sm:block",children:e.title}),s<e3.length-1&&t.jsx("div",{className:"w-12 h-0.5 bg-gray-200 mx-4 hidden sm:block",children:t.jsx("div",{className:`h-full transition-all duration-300 ${e.completed?"bg-green-500 w-full":"bg-gray-200 w-0"}`})})]},e.number))}),t.jsx(m.E,{value:R/4*100,className:"h-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[1===R&&(0,t.jsxs)(n.Zb,{children:[t.jsx(n.Ol,{children:t.jsx(n.ll,{children:"Amount to Send"})}),(0,t.jsxs)(n.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"You Send"}),t.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("input",{type:"number",value:z,onChange:e=>{D(e.target.value),eA("send")},onBlur:e=>{let s=Number.parseFloat(e.target.value)||0,a=eH($,A),t=a?.min_amount||0,r=a?.max_amount;s<t&&t>0?D(t.toString()):r&&s>r&&D(r.toString())},className:"text-3xl font-bold bg-transparent border-0 outline-none w-full",placeholder:"0.00"}),t.jsx(eV,{selectedCurrency:$,onCurrencyChange:e=>{I(e),e===A&&E($)},searchTerm:eZ,onSearchChange:eS,isOpen:eP,onToggle:()=>eR(!eP),dropdownRef:eD})]})}),(()=>{let e=eH($,A);return e&&(e.min_amount||e.max_amount)?(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[e.min_amount&&`Min: ${eW(e.min_amount,$)}`,e.min_amount&&e.max_amount&&" • ",e.max_amount&&`Max: ${eW(e.max_amount,$)}`]}):null})()]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-green-600 text-xs",children:"✓"})}),t.jsx("span",{className:"text-sm text-gray-600",children:"Fee"})]}),t.jsx("span",{className:`font-medium ${0===U?"text-green-600":"text-gray-900"}`,children:0===U?"FREE":eW(U,$)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 bg-easner-primary-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-easner-primary text-xs",children:"%"})}),t.jsx("span",{className:"text-sm text-gray-600",children:"Rate"})]}),(0,t.jsxs)("span",{className:"font-medium text-easner-primary",children:["1 ",$," = ",e1?.toFixed(4)||"0.0000"," ",A]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Receiver Gets"}),t.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("input",{type:"number",value:T,onChange:e=>{L(e.target.value),eA("receive")},onBlur:e=>{let s=Number.parseFloat(e.target.value)||0,a=eH($,A);if(a&&s>0){let e=s/a.rate;a.min_amount&&e<a.min_amount?(L(((e=a.min_amount)*a.rate).toFixed(2)),D(e.toFixed(2))):a.max_amount&&e>a.max_amount&&(L(((e=a.max_amount)*a.rate).toFixed(2)),D(e.toFixed(2)))}},className:"text-3xl font-bold bg-transparent border-0 outline-none w-full",placeholder:"0.00"}),t.jsx(eV,{selectedCurrency:A,onCurrencyChange:e=>{E(e),e===$&&I(A)},searchTerm:eF,onSearchChange:eM,isOpen:eq,onToggle:()=>ez(!eq),dropdownRef:e$})]})})]}),t.jsx(i.z,{onClick:eX,className:"w-full bg-easner-primary hover:bg-easner-primary-600",disabled:!$||!A||!z,children:"Continue"})]})]}),2===R&&(0,t.jsxs)(n.Zb,{children:[t.jsx(n.Ol,{children:t.jsx(n.ll,{children:"Add Recipient"})}),(0,t.jsxs)(n.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),t.jsx(c.I,{placeholder:"Search recipients",value:ea,onChange:e=>et(e.target.value),className:"pl-10 h-12 bg-gray-50 border-0 rounded-xl"})]}),(0,t.jsxs)(C.Vq,{open:e_,onOpenChange:eC,children:[t.jsx(C.hg,{asChild:!0,children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-gray-100 hover:border-easner-primary-200 cursor-pointer transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(h.Z,{className:"h-6 w-6 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:"Add new recipient"})]}),t.jsx(p.Z,{className:"h-5 w-5 text-gray-400"})]})}),(0,t.jsxs)(C.cZ,{className:"max-w-md",children:[t.jsx(C.fK,{children:t.jsx(C.$N,{children:"Add New Recipient"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"newRecipientName",children:"Full Name *"}),t.jsx(c.I,{id:"newRecipientName",value:en.fullName,onChange:e=>ei({...en,fullName:e.target.value}),placeholder:"Enter recipient's full name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"newRecipientAccount",children:"Account Number *"}),t.jsx(c.I,{id:"newRecipientAccount",value:en.accountNumber,onChange:e=>ei({...en,accountNumber:e.target.value}),placeholder:"Enter account number",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"newRecipientBank",children:"Bank Name *"}),t.jsx(c.I,{id:"newRecipientBank",value:en.bankName,onChange:e=>ei({...en,bankName:e.target.value}),placeholder:"Enter bank name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"newRecipientCurrency",children:"Currency"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[e6&&t.jsx(eJ,{currency:e6}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:A}),t.jsx("div",{className:"text-sm text-gray-500",children:e6?.name})]}),t.jsx("span",{className:"ml-auto text-xs text-gray-500",children:"Auto-selected"})]})]}),t.jsx(i.z,{onClick:eU,disabled:!en.fullName||!en.accountNumber||!en.bankName,className:"w-full bg-easner-primary hover:bg-easner-primary-600",children:"Add Recipient"})]})]})]}),t.jsx("div",{className:"space-y-3",children:eT.map(e=>(0,t.jsxs)("div",{onClick:()=>eL(e),className:`flex items-center justify-between p-4 bg-white rounded-xl border cursor-pointer transition-colors ${er===e.id?"border-easner-primary bg-easner-primary-50":"border-gray-100 hover:border-easner-primary-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"w-12 h-12 bg-easner-primary-100 rounded-full flex items-center justify-center relative",children:[t.jsx("span",{className:"text-easner-primary font-semibold text-sm",children:e.full_name.split(" ").map(e=>e[0]).join("").toUpperCase()}),t.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-4 rounded-sm overflow-hidden",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:a.find(s=>s.code===e.currency)?.flag||""},className:"w-full h-full"})})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.full_name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.bank_name," - ",e.account_number]})]})]}),er===e.id&&t.jsx("div",{className:"w-6 h-6 bg-easner-primary rounded-full flex items-center justify-center",children:t.jsx(u.Z,{className:"h-4 w-4 text-white"})})]},e.id))}),0===eT.length&&ea&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsxs)("p",{children:['No recipients found matching "',ea,'"']})}),0===eT.length&&!ea&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsxs)("p",{children:["No recipients found for ",A]}),t.jsx("p",{className:"text-sm",children:"Add a new recipient to get started"})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)(i.z,{variant:"outline",onClick:eK,className:"flex-1 bg-transparent",children:[t.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),t.jsx(i.z,{onClick:eX,disabled:!er,className:"flex-1 bg-easner-primary hover:bg-easner-primary-600",children:"Continue"})]})]})]}),3===R&&(0,t.jsxs)(n.Zb,{children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center justify-between",children:["Make Payment",(0,t.jsxs)("div",{className:"flex items-center text-orange-600",children:[t.jsx(g.Z,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"font-mono text-lg",children:`${Math.floor(X/60)}:${(X%60).toString().padStart(2,"0")}`})]})]})}),(0,t.jsxs)(n.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-easner-primary-50 to-blue-50 rounded-xl p-4 border border-easner-primary-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-easner-primary rounded-lg flex items-center justify-center",children:e2&&t.jsx(eJ,{currency:e2})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-easner-primary",children:["Transfer ",eW((Number.parseFloat(z)||0)+U,$)]}),t.jsx("p",{className:"text-xs text-gray-600",children:U>0?`Send amount: ${eW(Number.parseFloat(z)||0,$)} + Fee: ${eW(U,$)}`:"Send money to complete your transfer"})]})]}),(()=>{let e=eY($),s=eQ($);return 0===e.length?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,t.jsxs)("p",{className:"text-red-700",children:["No payment methods configured for ",$]}),t.jsx("p",{className:"text-red-600 text-sm",children:"Please contact support"})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[s?.type==="bank_account"&&(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(N.Z,{className:"h-4 w-4 text-gray-600"}),t.jsx("span",{className:"font-medium text-sm",children:s.name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600 text-xs",children:"Account Name"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-medium text-sm",children:s.account_name}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eO(s.account_name,"accountName"),className:"h-5 w-5 p-0",children:ec.accountName?t.jsx(u.Z,{className:"h-3 w-3 text-green-600"}):t.jsx(y,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600 text-xs",children:"Account Number"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-medium font-mono text-sm",children:s.account_number}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eO(s.account_number,"accountNumber"),className:"h-5 w-5 p-0",children:ec.accountNumber?t.jsx(u.Z,{className:"h-3 w-3 text-green-600"}):t.jsx(y,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600 text-xs",children:"Bank Name"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-medium text-sm",children:s.bank_name}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eO(s.bank_name,"bankName"),className:"h-5 w-5 p-0",children:ec.bankName?t.jsx(u.Z,{className:"h-3 w-3 text-green-600"}):t.jsx(y,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[t.jsx("span",{className:"text-gray-600 text-xs",children:"Transaction ID"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-medium font-mono text-xs",children:ee}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eO(ee,"transactionId"),className:"h-5 w-5 p-0",children:ec.transactionId?t.jsx(u.Z,{className:"h-3 w-3 text-green-600"}):t.jsx(y,{className:"h-3 w-3"})})]})]})]})]}),s?.type==="qr_code"&&(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-100 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-3",children:[t.jsx(f.Z,{className:"h-4 w-4 text-gray-600"}),t.jsx("span",{className:"font-medium text-sm",children:s.name})]}),t.jsx("div",{className:"w-48 h-48 bg-gray-100 rounded-lg mx-auto mb-3 flex items-center justify-center overflow-hidden",children:s.qr_code_data?s.qr_code_data.endsWith(".svg")?t.jsx("img",{src:s.qr_code_data||"/placeholder.svg",alt:"QR Code",className:"w-full h-full object-contain"}):s.qr_code_data.endsWith(".pdf")?(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(f.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),t.jsx("a",{href:s.qr_code_data,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"View QR Code PDF"})]}):t.jsx("img",{src:s.qr_code_data||"/placeholder.svg",alt:"QR Code",className:"w-full h-full object-contain"}):t.jsx(f.Z,{className:"h-16 w-16 text-gray-400"})}),s.instructions&&t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:s.instructions}),t.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600 text-xs",children:"Transaction ID"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-medium font-mono text-xs",children:ee}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>eO(ee,"transactionId"),className:"h-5 w-5 p-0",children:ec.transactionId?t.jsx(u.Z,{className:"h-3 w-3 text-green-600"}):t.jsx(y,{className:"h-3 w-3"})})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-gray-900 text-xs uppercase tracking-wide",children:"Important Instructions"}),t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:(0,t.jsxs)("ul",{className:"text-xs text-amber-700 space-y-1.5",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-amber-500 mt-0.5 text-xs",children:"•"}),(0,t.jsxs)("span",{children:["Transfer exactly"," ",t.jsx("strong",{children:eW((Number.parseFloat(z)||0)+U,$)}),U>0&&(0,t.jsxs)("span",{className:"text-xs block text-amber-600",children:["(Amount: ",eW(Number.parseFloat(z)||0,$)," + Fee: ",eW(U,$),")"]})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-amber-500 mt-0.5 text-xs",children:"•"}),(0,t.jsxs)("span",{children:["Include transaction ID ",t.jsx("strong",{children:ee})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-amber-500 mt-0.5 text-xs",children:"•"}),(0,t.jsxs)("span",{children:["Complete within ",t.jsx("strong",{children:"60 minutes"})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-amber-500 mt-0.5 text-xs",children:"•"}),t.jsx("span",{children:"Upload receipt for faster processing"})]}),s?.type==="qr_code"&&(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-amber-500 mt-0.5 text-xs",children:"•"}),t.jsx("span",{children:"Scan QR code with your mobile banking app"})]})]})})]})]})})()]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("input",{type:"file",ref:ef,onChange:e=>{let s=e.target.files?.[0];s&&eB(s)},accept:".jpg,.jpeg,.png,.pdf",className:"hidden"}),eN&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(b.Z,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Upload Error"}),t.jsx("p",{className:"text-xs text-red-600 mt-1",children:eN})]}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>{ey(null)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:t.jsx(v.Z,{className:"h-3 w-3"})})]})}),(0,t.jsxs)("div",{onClick:()=>{ef.current?.click()},onDragOver:e=>{e.preventDefault(),eg(!0)},onDragLeave:e=>{e.preventDefault(),eg(!1)},onDrop:e=>{e.preventDefault(),eg(!1);let s=e.dataTransfer.files[0];s&&eB(s)},className:`border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors ${ej?"border-easner-primary bg-easner-primary-50":em?"border-green-300 bg-green-50":eN?"border-red-300 bg-red-50":"border-gray-200 hover:border-easner-primary-300"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${em?"bg-green-100":eN?"bg-red-100":ej?"bg-easner-primary-100":"bg-gray-100 group-hover:bg-easner-primary-50"}`,children:em?t.jsx(u.Z,{className:"h-5 w-5 text-green-600"}):eN?t.jsx(b.Z,{className:"h-5 w-5 text-red-600"}):t.jsx(w.Z,{className:`h-5 w-5 transition-colors ${ej?"text-easner-primary":"text-gray-400"}`})}),(0,t.jsxs)("div",{className:"text-left",children:[t.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:em?em.name:eN?"Upload Failed":"Upload Payment Receipt"}),t.jsx("p",{className:"text-xs text-gray-500",children:em?`${(em.size/1024/1024).toFixed(2)} MB`:eN?"Click to try again":"JPG, PNG or PDF (Max 5MB)"})]}),em&&t.jsx(i.z,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),eG()},className:"h-6 w-6 p-0 text-gray-400 hover:text-red-600",children:t.jsx(v.Z,{className:"h-3 w-3"})})]}),eh&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[t.jsx("span",{children:"Uploading..."}),(0,t.jsxs)("span",{children:[ex,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:t.jsx("div",{className:"bg-easner-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${ex}%`}})})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)(i.z,{variant:"outline",onClick:eK,className:"flex-1 bg-transparent",children:[t.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),t.jsx(i.z,{onClick:eX,disabled:ew,className:"flex-1 bg-easner-primary hover:bg-easner-primary-600",children:ew?"Sending...":"I've Paid"})]})]})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsx(()=>(0,t.jsxs)(n.Zb,{className:"sticky top-6",children:[t.jsx(n.Ol,{children:t.jsx(n.ll,{className:"text-lg",children:"Transaction Summary"})}),(0,t.jsxs)(n.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"You Send"}),t.jsx("span",{className:"font-semibold",children:eW(Number.parseFloat(z)||0,$)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Fee"}),t.jsx("span",{className:`font-semibold ${0===U?"text-green-600":"text-gray-900"}`,children:0===U?"FREE":eW(U,$)})]}),(0,t.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[t.jsx("span",{className:"text-gray-600",children:"Total to Pay"}),t.jsx("span",{className:"font-semibold text-lg",children:eW((Number.parseFloat(z)||0)+U,$)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Recipient Gets"}),t.jsx("span",{className:"font-semibold",children:eW(Number.parseFloat(T)||0,A)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Exchange Rate"}),(0,t.jsxs)("span",{className:"text-sm",children:["1 ",$," = ",e0?.rate.toFixed(4)," ",A]})]})]}),R>=2&&Y.fullName&&(0,t.jsxs)("div",{className:"pt-4 border-t",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Recipient"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[t.jsx("p",{className:"font-medium",children:Y.fullName}),t.jsx("p",{className:"text-gray-600",children:Y.accountNumber}),t.jsx("p",{className:"text-gray-600",children:Y.bankName})]})]}),R>=3&&ee&&(0,t.jsxs)("div",{className:"pt-4 border-t",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Transaction ID"}),t.jsx("p",{className:"font-mono text-sm",children:ee})]})]})]}),{})})]})]})})})}},53993:(e,s,a)=>{"use strict";a.d(s,{E:()=>b});var t=a(10326),r=a(17577),l=a(93095),n=a(45226),i="Progress",[c,d]=(0,l.b)(i),[m,o]=c(i),x=r.forwardRef((e,s)=>{var a,r;let{__scopeProgress:l,value:i=null,max:c,getValueLabel:d=p,...o}=e;(c||0===c)&&!N(c)&&console.error((a=`${c}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=N(c)?c:100;null===i||y(i,x)||console.error((r=`${i}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=y(i,x)?i:null,h=g(u)?d(u,x):void 0;return(0,t.jsx)(m,{scope:l,value:u,max:x,children:(0,t.jsx)(n.WV.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":g(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":j(u,x),"data-value":u??void 0,"data-max":x,...o,ref:s})})});x.displayName=i;var u="ProgressIndicator",h=r.forwardRef((e,s)=>{let{__scopeProgress:a,...r}=e,l=o(u,a);return(0,t.jsx)(n.WV.div,{"data-state":j(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:s})});function p(e,s){return`${Math.round(e/s*100)}%`}function j(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function g(e){return"number"==typeof e}function N(e){return g(e)&&!isNaN(e)&&e>0}function y(e,s){return g(e)&&!isNaN(e)&&e<=s&&e>=0}h.displayName=u;var f=a(77863);let b=r.forwardRef(({className:e,value:s,...a},r)=>t.jsx(x,{ref:r,className:(0,f.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:t.jsx(h,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));b.displayName=x.displayName},86333:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},59734:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},941:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},41291:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48998:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},15919:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},24319:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},77506:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},92447:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},88307:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},63685:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},24061:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},94019:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99435:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`D:\Users\enyoc\Documents\Dev\easner\app\user\send\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[948,609,434,730,585,745,168,369],()=>a(91895));module.exports=t})();