(()=>{var e={};e.id=363,e.ids=[363],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},8113:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(90075),r(22662),r(35866);var t=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d=["",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,90075)),"D:\\Users\\enyoc\\Documents\\Dev\\easner\\app\\reset-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22662)),"D:\\Users\\enyoc\\Documents\\Dev\\easner\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Users\\enyoc\\Documents\\Dev\\easner\\app\\reset-password\\page.tsx"],m="/reset-password/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reset-password/page",pathname:"/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57997:(e,s,r)=>{Promise.resolve().then(r.bind(r,62675))},62675:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var t=r(10326),a=r(17577),n=r(35047),i=r(90434),o=r(90772),l=r(54432),d=r(45842),c=r(33071),m=r(43273),u=r(24166);let p=(0,r(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var x=r(91216),f=r(12714),h=r(86333);function w(){let e=(0,n.useRouter)();(0,n.useSearchParams)();let[s,r]=(0,a.useState)({newPassword:"",confirmPassword:""}),[w,g]=(0,a.useState)({new:!1,confirm:!1}),[v,y]=(0,a.useState)(!1),[b,j]=(0,a.useState)(""),[N,P]=(0,a.useState)(!1),k=async r=>{if(r.preventDefault(),y(!0),j(""),s.newPassword!==s.confirmPassword){j("Passwords do not match"),y(!1);return}if(s.newPassword.length<8){j("Password must be at least 8 characters long"),y(!1);return}try{let r=sessionStorage.getItem("reset-token"),t=sessionStorage.getItem("reset-email"),a=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,email:t,newPassword:s.newPassword})}),n=await a.json();a.ok?(sessionStorage.removeItem("reset-token"),sessionStorage.removeItem("reset-email"),e.push("/login?message=Password reset successful. Please sign in with your new password.")):j(n.error||"Failed to reset password")}catch(e){j("An error occurred. Please try again.")}finally{y(!1)}};return N||b?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-easner-primary-50 to-white p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx(u.O,{size:"md",className:"mx-auto mb-4"})}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[t.jsx(p,{className:"h-5 w-5 text-easner-primary"}),"Reset Password"]}),t.jsx(c.SZ,{children:"Enter your new password below"})]}),(0,t.jsxs)(c.aY,{children:[b&&t.jsx(m.b,{variant:"destructive",className:"mb-4",children:t.jsx(m.X,{children:b})}),N&&(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"newPassword",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(l.I,{id:"newPassword",type:w.new?"text":"password",placeholder:"Enter new password",value:s.newPassword,onChange:e=>r({...s,newPassword:e.target.value}),required:!0,disabled:v,className:"pr-10"}),t.jsx("button",{type:"button",onClick:()=>g({...w,new:!w.new}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:v,children:w.new?t.jsx(x.Z,{className:"h-4 w-4"}):t.jsx(f.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(l.I,{id:"confirmPassword",type:w.confirm?"text":"password",placeholder:"Confirm new password",value:s.confirmPassword,onChange:e=>r({...s,confirmPassword:e.target.value}),required:!0,disabled:v,className:"pr-10"}),t.jsx("button",{type:"button",onClick:()=>g({...w,confirm:!w.confirm}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:v,children:w.confirm?t.jsx(x.Z,{className:"h-4 w-4"}):t.jsx(f.Z,{className:"h-4 w-4"})})]})]}),t.jsx(o.z,{type:"submit",className:"w-full bg-easner-primary hover:bg-easner-primary-600",disabled:v,children:v?"Resetting...":"Reset Password"})]}),t.jsx("div",{className:"mt-6 text-center",children:(0,t.jsxs)(i.default,{href:"/login",className:"inline-flex items-center gap-2 text-sm text-easner-primary hover:text-easner-primary-600 transition-colors",children:[t.jsx(h.Z,{className:"h-4 w-4"}),"Back to Sign In"]})})]})]})]})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-easner-primary-50 to-white p-4",children:t.jsx("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-easner-primary mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Validating reset link..."})]})})})}function g(){return t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-easner-primary-50 to-white p-4",children:t.jsx("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-easner-primary mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})})}),children:t.jsx(w,{})})}},24166:(e,s,r)=>{"use strict";r.d(s,{O:()=>n});var t=r(10326);let a={name:"Easner",logo:"https://cldup.com/cwHk7-kSb4.svg"};function n({href:e,className:s="",size:r="md"}){return t.jsx("img",{src:a.logo||"/placeholder.svg",alt:`${a.name} Logo`,className:`w-auto object-contain ${{sm:"h-4",md:"h-6",lg:"h-7"}[r]} ${s}`})}},43273:(e,s,r)=>{"use strict";r.d(s,{X:()=>d,b:()=>l});var t=r(10326),a=r(17577),n=r(79360),i=r(77863);let o=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:s,...r},a)=>t.jsx("div",{ref:a,role:"alert",className:(0,i.cn)(o({variant:s}),e),...r}));l.displayName="Alert";let d=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...s}));d.displayName="AlertDescription"},54432:(e,s,r)=>{"use strict";r.d(s,{I:()=>i});var t=r(10326),a=r(17577),n=r(77863);let i=a.forwardRef(({className:e,type:s,...r},a)=>t.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));i.displayName="Input"},45842:(e,s,r)=>{"use strict";r.d(s,{_:()=>c});var t=r(10326),a=r(17577),n=r(45226),i=a.forwardRef((e,s)=>(0,t.jsx)(n.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var o=r(79360),l=r(77863);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...s},r)=>t.jsx(i,{ref:r,className:(0,l.cn)(d(),e),...s}));c.displayName=i.displayName},86333:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},91216:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(62881).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},12714:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},90075:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`D:\Users\enyoc\Documents\Dev\easner\app\reset-password\page.tsx#default`)},45226:(e,s,r)=>{"use strict";r.d(s,{WV:()=>o,jH:()=>l});var t=r(17577),a=r(60962),n=r(34214),i=r(10326),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let r=t.forwardRef((e,r)=>{let{asChild:t,...a}=e,o=t?n.g7:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{});function l(e,s){e&&a.flushSync(()=>e.dispatchEvent(s))}}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[948,609,434,585],()=>r(8113));module.exports=t})();